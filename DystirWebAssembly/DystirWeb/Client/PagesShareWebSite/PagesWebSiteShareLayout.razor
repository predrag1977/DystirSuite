@inherits LayoutComponentBase
@layout MainLayout

@Body

@code {

    public string Page { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        object page = null;
        if ((this.Body.Target as RouteView)?.RouteData.RouteValues?.TryGetValue("page", out page) == true)
        {
            Page = page?.ToString();
        }

        _ = JSRuntime.InvokeVoidAsync("setTitle", String.Format("{0} - Dystir", System.Globalization.CultureInfo.CurrentCulture.TextInfo.ToTitleCase(Page.ToLower())));

        string favicon = "favicon.ico";
        if (Page.Equals("dimma"))
        {
            favicon = "https://www.dimma.fo/assets/favicon.png";
        }
        else if (Page.Equals("info"))
        {
            favicon = "https://www.in.fo/favicon.ico";
        }

        _ = JSRuntime.InvokeVoidAsync("setFavicon", favicon);
    }
}






